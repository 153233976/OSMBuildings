{"version":3,"sources":["GLMap.debug.js"],"names":["global","clamp","value","min","max","Math","cancelEvent","e","preventDefault","stopPropagation","returnValue","document","Basemap","container","options","this","getElementById","classList","add","width","offsetWidth","height","offsetHeight","minZoom","parseFloat","maxZoom","bounds","position","zoom","listeners","restoreState","state","persistState","on","bind","pointer","Pointer","layers","Layers","disabled","setDisabled","attribution","attributionDiv","createElement","className","appendChild","updateAttribution","TILE_SIZE","prototype","getAttribution","unshift","innerHTML","join","query","location","search","substring","replace","$0","$1","$2","undefined","lat","lon","latitude","longitude","setPosition","setZoom","rotation","setRotation","tilt","setTilt","bend","setBend","history","replaceState","stateDebounce","setTimeout","params","push","toFixed","emit","type","payload","requestAnimationFrame","i","il","length","fn","off","listener","splice","flag","isDisabled","getBounds","getZoom","pos","getPosition","setSize","size","getSize","getRotation","getTilt","getBend","addLayer","layer","removeLayer","remove","destroy","define","exports","module","GLMap","map","_addListener","onTouchStart","onTouchMove","onTouchEnd","onGestureChange","onMouseDown","onMouseMove","onMouseUp","onDoubleClick","onMouseWheel","resizeDebounce","prevX","prevY","startX","startY","startZoom","prevRotation","prevTilt","pointerIsDown","_listeners","target","boundFn","addEventListener","x","clientX","y","clientY","button","altKey","rotateMap","moveMap","abs","delta","wheelDeltaY","wheelDelta","detail","adjust","scale","pow","dx","dy","angle","PI","r","cos","sin","innerWidth","innerHeight","touches","removeEventListener","items"],"mappings":"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","file":"GLMap.js"}