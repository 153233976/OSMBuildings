{"version":3,"sources":["GLMap.debug.js"],"names":["global","clamp","value","min","max","Math","cancelEvent","e","preventDefault","stopPropagation","returnValue","document","Basemap","container","options","this","getElementById","classList","add","width","offsetWidth","height","offsetHeight","minZoom","parseFloat","maxZoom","bounds","center","x","y","zoom","listeners","restoreState","state","persistState","on","bind","pointer","Pointer","layers","Layers","disabled","setDisabled","attribution","attributionDiv","createElement","className","appendChild","updateAttribution","TILE_SIZE","prototype","getAttribution","unshift","innerHTML","join","query","location","search","substring","replace","$0","$1","$2","position","undefined","lat","lon","latitude","longitude","setPosition","setZoom","rotation","setRotation","tilt","setTilt","bend","setBend","history","replaceState","stateDebounce","setTimeout","params","push","toFixed","emit","type","payload","requestAnimationFrame","i","il","length","fn","off","listener","splice","flag","isDisabled","getBounds","getZoom","pos","getPosition","setSize","size","getSize","getRotation","getTilt","getBend","addLayer","layer","removeLayer","remove","destroy","define","exports","module","GLMap","map","_addListener","onTouchStart","onTouchMove","onTouchEnd","onGestureChange","onMouseDown","onMouseMove","onMouseUp","onDoubleClick","onMouseWheel","resizeDebounce","prevX","prevY","startX","startY","startZoom","prevRotation","prevTilt","pointerIsDown","_listeners","target","boundFn","addEventListener","clientX","clientY","button","altKey","rotateMap","moveMap","abs","delta","wheelDeltaY","wheelDelta","detail","adjust","scale","pow","dx","dy","angle","PI","r","cos","sin","innerWidth","innerHeight","touches","removeEventListener","items"],"mappings":"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","file":"GLMap.js"}